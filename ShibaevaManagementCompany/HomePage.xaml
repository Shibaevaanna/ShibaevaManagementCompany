<Page x:Class="ShibaevaManagementCompany.HomePage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Главная">

    <ScrollViewer>
        <Grid Background="White" Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Welcome Section -->
            <Border Grid.Row="0" Background="#F4E8D3" Padding="20" CornerRadius="10" Margin="0,0,0,20">
                <StackPanel>
                    <TextBlock Text="Добро пожаловать в систему управления" 
                               FontSize="28" FontWeight="Bold" 
                               FontFamily="Segoe UI" Margin="0,0,0,10"/>
                    <TextBlock Text="Shibaeva Management Company" 
                               FontSize="22" FontWeight="SemiBold" 
                               FontFamily="Segoe UI" Foreground="#67BA80"/>
                    <TextBlock Text="Система для эффективного управления жилым фондом, заявками на ремонт и обслуживанием" 
                               FontSize="16" FontFamily="Segoe UI" 
                               Margin="0,10,0,0" TextWrapping="Wrap"/>
                </StackPanel>
            </Border>

            <!-- Quick Stats -->
            <Grid Grid.Row="1" Margin="0,0,0,20">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Stat 1 -->
                <Border Grid.Column="0" Background="White" Margin="5" Padding="15" 
                        BorderBrush="#E0E0E0" BorderThickness="1" CornerRadius="5">
                    <StackPanel>
                        <TextBlock Text="125" FontSize="32" FontWeight="Bold" 
                                   Foreground="#67BA80" HorizontalAlignment="Center"/>
                        <TextBlock Text="Активных заявок" FontSize="14" 
                                   HorizontalAlignment="Center" TextWrapping="Wrap"/>
                    </StackPanel>
                </Border>

                <!-- Stat 2 -->
                <Border Grid.Column="1" Background="White" Margin="5" Padding="15" 
                        BorderBrush="#E0E0E0" BorderThickness="1" CornerRadius="5">
                    <StackPanel>
                        <TextBlock Text="24" FontSize="32" FontWeight="Bold" 
                                   Foreground="#3498DB" HorizontalAlignment="Center"/>
                        <TextBlock Text="Новых за неделю" FontSize="14" 
                                   HorizontalAlignment="Center" TextWrapping="Wrap"/>
                    </StackPanel>
                </Border>

                <!-- Stat 3 -->
                <Border Grid.Column="2" Background="White" Margin="5" Padding="15" 
                        BorderBrush="#E0E0E0" BorderThickness="1" CornerRadius="5">
                    <StackPanel>
                        <TextBlock Text="98%" FontSize="32" FontWeight="Bold" 
                                   Foreground="#9B59B6" HorizontalAlignment="Center"/>
                        <TextBlock Text="Выполнено в срок" FontSize="14" 
                                   HorizontalAlignment="Center" TextWrapping="Wrap"/>
                    </StackPanel>
                </Border>

                <!-- Stat 4 -->
                <Border Grid.Column="3" Background="White" Margin="5" Padding="15" 
                        BorderBrush="#E0E0E0" BorderThickness="1" CornerRadius="5">
                    <StackPanel>
                        <TextBlock Text="15" FontSize="32" FontWeight="Bold" 
                                   Foreground="#E74C3C" HorizontalAlignment="Center"/>
                        <TextBlock Text="Просроченных" FontSize="14" 
                                   HorizontalAlignment="Center" TextWrapping="Wrap"/>
                    </StackPanel>
                </Border>
            </Grid>

            <!-- Quick Actions -->
            <Border Grid.Row="2" Background="#F9F9F9" Padding="20" CornerRadius="10" Margin="0,0,0,20">
                <StackPanel>
                    <TextBlock Text="Быстрые действия" FontSize="20" FontWeight="Bold" 
                               FontFamily="Segoe UI" Margin="0,0,0,15"/>

                    <WrapPanel>
                        <Button Content="+ Новая заявка" Width="180" Height="40" Margin="5" 
                                Click="NewRequest_Click"/>
                        <Button Content="📊 Отчет по заявкам" Width="180" Height="40" Margin="5" 
                                Background="#3498DB"/>
                        <Button Content="👥 Назначить исполнителя" Width="180" Height="40" Margin="5" 
                                Background="#9B59B6"/>
                        <Button Content="📋 Список долгов" Width="180" Height="40" Margin="5" 
                                Background="#E74C3C"/>
                    </WrapPanel>
                </StackPanel>
            </Border>

            <!-- Recent Activity -->
            <Border Grid.Row="3" Background="White" Padding="20" 
                    BorderBrush="#E0E0E0" BorderThickness="1" CornerRadius="10">
                <StackPanel>
                    <TextBlock Text="Последние заявки" FontSize="20" FontWeight="Bold" 
                               FontFamily="Segoe UI" Margin="0,0,0,15"/>

                    <DataGrid Name="RecentRequestsGrid" Height="200" AutoGenerateColumns="False">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID" Binding="{Binding RequestId}" Width="60"/>
                            <DataGridTextColumn Header="Адрес" Binding="{Binding Address}" Width="200"/>
                            <DataGridTextColumn Header="Заявитель" Binding="{Binding Applicant}" Width="150"/>
                            <DataGridTextColumn Header="Статус" Binding="{Binding Status}" Width="100"/>
                            <DataGridTextColumn Header="Дата" Binding="{Binding Date}" Width="120"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </StackPanel>
            </Border>
        </Grid>
    </ScrollViewer>
</Page>